//
//  AppDelegate.m
//  PCFDataSample
//
//  Created by DX122-XL on 2015-01-16.
//  Copyright (c) 2015 Pivotal. All rights reserved.
//

#import "AppDelegate.h"
#import <PCFData/PCFData.h>

@interface AppDelegate ()

@end

@implementation AppDelegate


- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
    
    [PCFData registerTokenProviderBlock:^() {
        return @"eyJhbGciOiJSUzI1NiJ9.eyJqdGkiOiJiNjIyMDI2OS1mNjhhLTQ5YmYtOTE0Yy02YmI2NGEyYWIzNWIiLCJzdWIiOiI5MWEzMWVmMi1mYTU3LTQ3ODItOWY2YS04YTMxODYwYjc5M2YiLCJzY29wZSI6WyJwYXNzd29yZC53cml0ZSIsIm9wZW5pZCIsImNsb3VkX2NvbnRyb2xsZXIud3JpdGUiLCJjbG91ZF9jb250cm9sbGVyLnJlYWQiXSwiY2xpZW50X2lkIjoiY2YiLCJjaWQiOiJjZiIsInVzZXJfaWQiOiI5MWEzMWVmMi1mYTU3LTQ3ODItOWY2YS04YTMxODYwYjc5M2YiLCJ1c2VyX25hbWUiOiJ0ZXN0IiwiZW1haWwiOiJ0ZXN0QHRlc3QuY29tIiwiaWF0IjoxNDIzMjQwOTI4LCJleHAiOjE0MjMyODQxMjgsImlzcyI6Imh0dHBzOi8vdWFhLnNoZXJyeS53aW5lLmNmLWFwcC5jb20vb2F1dGgvdG9rZW4iLCJhdWQiOlsib3BlbmlkIiwiY2xvdWRfY29udHJvbGxlciIsInBhc3N3b3JkIl19.PtgL7G-BD0De9ak8fBXYhCjVVWAwOFdj7SJ3T-nqmhpyHxwxrplUulxg6VyTgPXxCLr9yE__38E63_59vIEbHEZo552v773eSY2U5Vq9Rp3eTrmd1IGH55JajZvmdsAsLYjuCQUgsyzcdXht4WOJP2giQXA5ZydbaQRGadcq2UqWRsECbjkKt4-7D7_yc9_l6bZ_O0YCR-3540w5q_BTt04irWxatu_GcSgT42rPU9grwHprMUNynlyp2KcDwp1nhdvaugWOuGzWz5mv37dEnkz7DC7UmfBMNtiktx790FmdRogV_YRGekAvYxgWAUO5rRvUAeKdStya-Egh0DTw9g";
    }];
    
    [PCFData registerTokenProviderWithUserPromptBlock:^() {
        return @"eyJhbGciOiJSUzI1NiJ9.eyJqdGkiOiI3NmZlNjMyZS1iNzBkLTQwMTctOTIzYi0wMjBiNTI4Y2I5NTAiLCJzdWIiOiI5MWEzMWVmMi1mYTU3LTQ3ODItOWY2YS04YTMxODYwYjc5M2YiLCJzY29wZSI6WyJwYXNzd29yZC53cml0ZSIsIm9wZW5pZCIsImNsb3VkX2NvbnRyb2xsZXIud3JpdGUiLCJjbG91ZF9jb250cm9sbGVyLnJlYWQiXSwiY2xpZW50X2lkIjoiY2YiLCJjaWQiOiJjZiIsInVzZXJfaWQiOiI5MWEzMWVmMi1mYTU3LTQ3ODItOWY2YS04YTMxODYwYjc5M2YiLCJ1c2VyX25hbWUiOiJ0ZXN0IiwiZW1haWwiOiJ0ZXN0QHRlc3QuY29tIiwiaWF0IjoxNDIzMjUzNzkxLCJleHAiOjE0MjMyOTY5OTEsImlzcyI6Imh0dHBzOi8vdWFhLnNoZXJyeS53aW5lLmNmLWFwcC5jb20vb2F1dGgvdG9rZW4iLCJhdWQiOlsib3BlbmlkIiwiY2xvdWRfY29udHJvbGxlciIsInBhc3N3b3JkIl19.AQjuVhlsIcSMAJR7TAUzChgZtTetnjEL3gYLnqfeliBzB0ZbTXqdepH-z2On9fosAEw_CkBtOTCyWRClz1VQ_JEvI8jL8_DRL9tgtVleRul-yCoeoYyLJffn5H9Es0ImVNL-3zIWuU2N8Mbg5BVhkQVJZWC_uTrloAqSta8BeOoRciIdtnkvzWU2VNysz7Y09vGX_b_b8NX9RN7evowShak3gqjJy6oBwaTNhv1pe8VFu6R61V3kD5aut62ipjdVFMaeLX_LSKGB3O5xnDyRbeINlxjJiJjT5anu_YzyIaci3DiGX1zE32UlZV_V257sz00WTSX0_YHQwT8krMv8jQ";
    }];
    
    return YES;
}

- (void)application:(UIApplication *)application performFetchWithCompletionHandler:(void (^)(UIBackgroundFetchResult))completionHandler {
    [PCFData performSyncWithCompletionHandler:completionHandler];
}

@end
